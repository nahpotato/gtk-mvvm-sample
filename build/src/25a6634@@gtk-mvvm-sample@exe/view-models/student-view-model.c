/* student-view-model.c generated by valac 0.48.6, the Vala compiler
 * generated from student-view-model.vala, do not modify */

#include <glib-object.h>
#include <gee.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>

#define TYPE_STUDENT_VIEW_MODEL (student_view_model_get_type ())
#define STUDENT_VIEW_MODEL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_STUDENT_VIEW_MODEL, StudentViewModel))
#define STUDENT_VIEW_MODEL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_STUDENT_VIEW_MODEL, StudentViewModelClass))
#define IS_STUDENT_VIEW_MODEL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_STUDENT_VIEW_MODEL))
#define IS_STUDENT_VIEW_MODEL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_STUDENT_VIEW_MODEL))
#define STUDENT_VIEW_MODEL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_STUDENT_VIEW_MODEL, StudentViewModelClass))

typedef struct _StudentViewModel StudentViewModel;
typedef struct _StudentViewModelClass StudentViewModelClass;
typedef struct _StudentViewModelPrivate StudentViewModelPrivate;

#define TYPE_GENERIC_LIST_MODEL (generic_list_model_get_type ())
#define GENERIC_LIST_MODEL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_GENERIC_LIST_MODEL, GenericListModel))
#define GENERIC_LIST_MODEL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_GENERIC_LIST_MODEL, GenericListModelClass))
#define IS_GENERIC_LIST_MODEL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_GENERIC_LIST_MODEL))
#define IS_GENERIC_LIST_MODEL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_GENERIC_LIST_MODEL))
#define GENERIC_LIST_MODEL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_GENERIC_LIST_MODEL, GenericListModelClass))

typedef struct _GenericListModel GenericListModel;
typedef struct _GenericListModelClass GenericListModelClass;

#define TYPE_STUDENT (student_get_type ())
#define STUDENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_STUDENT, Student))
#define STUDENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_STUDENT, StudentClass))
#define IS_STUDENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_STUDENT))
#define IS_STUDENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_STUDENT))
#define STUDENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_STUDENT, StudentClass))

typedef struct _Student Student;
typedef struct _StudentClass StudentClass;
enum  {
	STUDENT_VIEW_MODEL_0_PROPERTY,
	STUDENT_VIEW_MODEL_STUDENTS_PROPERTY,
	STUDENT_VIEW_MODEL_NUM_PROPERTIES
};
static GParamSpec* student_view_model_properties[STUDENT_VIEW_MODEL_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

struct _StudentViewModel {
	GObject parent_instance;
	StudentViewModelPrivate * priv;
};

struct _StudentViewModelClass {
	GObjectClass parent_class;
};

struct _StudentViewModelPrivate {
	StudentViewModel* _instance;
	GenericListModel* _students;
};

static gint StudentViewModel_private_offset;
static gpointer student_view_model_parent_class = NULL;

GType student_view_model_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (StudentViewModel, g_object_unref)
GType generic_list_model_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GenericListModel, g_object_unref)
GType student_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Student, g_object_unref)
void student_view_model_load_students (StudentViewModel* self);
GenericListModel* generic_list_model_new (GType t_type,
                                          GBoxedCopyFunc t_dup_func,
                                          GDestroyNotify t_destroy_func);
GenericListModel* generic_list_model_construct (GType object_type,
                                                GType t_type,
                                                GBoxedCopyFunc t_dup_func,
                                                GDestroyNotify t_destroy_func);
Student* student_new (void);
Student* student_construct (GType object_type);
void student_set_first_name (Student* self,
                             const gchar* value);
void student_set_last_name (Student* self,
                            const gchar* value);
void student_set_age (Student* self,
                      gint8 value);
void student_view_model_set_students (StudentViewModel* self,
                                      GenericListModel* value);
StudentViewModel* student_view_model_new (void);
StudentViewModel* student_view_model_construct (GType object_type);
GenericListModel* student_view_model_get_students (StudentViewModel* self);
static GObject * student_view_model_constructor (GType type,
                                          guint n_construct_properties,
                                          GObjectConstructParam * construct_properties);
static void student_view_model_finalize (GObject * obj);
static GType student_view_model_get_type_once (void);
static void _vala_student_view_model_get_property (GObject * object,
                                            guint property_id,
                                            GValue * value,
                                            GParamSpec * pspec);
static void _vala_student_view_model_set_property (GObject * object,
                                            guint property_id,
                                            const GValue * value,
                                            GParamSpec * pspec);

static inline gpointer
student_view_model_get_instance_private (StudentViewModel* self)
{
	return G_STRUCT_MEMBER_P (self, StudentViewModel_private_offset);
}

void
student_view_model_load_students (StudentViewModel* self)
{
	GenericListModel* students = NULL;
	GenericListModel* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	Student* _tmp3_ = NULL;
	Student* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	Student* _tmp7_ = NULL;
	Student* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	Student* _tmp11_ = NULL;
	Student* _tmp12_;
#line 13 "../src/view-models/student-view-model.vala"
	g_return_if_fail (self != NULL);
#line 14 "../src/view-models/student-view-model.vala"
	_tmp0_ = generic_list_model_new (TYPE_STUDENT, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref);
#line 14 "../src/view-models/student-view-model.vala"
	students = _tmp0_;
#line 16 "../src/view-models/student-view-model.vala"
	_tmp1_ = g_strdup ("Mark");
#line 16 "../src/view-models/student-view-model.vala"
	_tmp2_ = g_strdup ("Allain");
#line 16 "../src/view-models/student-view-model.vala"
	_tmp3_ = student_new ();
#line 16 "../src/view-models/student-view-model.vala"
	student_set_first_name (_tmp3_, _tmp1_);
#line 16 "../src/view-models/student-view-model.vala"
	_g_free0 (_tmp1_);
#line 16 "../src/view-models/student-view-model.vala"
	student_set_last_name (_tmp3_, _tmp2_);
#line 16 "../src/view-models/student-view-model.vala"
	_g_free0 (_tmp2_);
#line 16 "../src/view-models/student-view-model.vala"
	student_set_age (_tmp3_, (gint8) 17);
#line 16 "../src/view-models/student-view-model.vala"
	_tmp4_ = _tmp3_;
#line 16 "../src/view-models/student-view-model.vala"
	gee_abstract_collection_add ((GeeAbstractCollection*) students, _tmp4_);
#line 16 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (_tmp4_);
#line 17 "../src/view-models/student-view-model.vala"
	_tmp5_ = g_strdup ("Allen");
#line 17 "../src/view-models/student-view-model.vala"
	_tmp6_ = g_strdup ("Brown");
#line 17 "../src/view-models/student-view-model.vala"
	_tmp7_ = student_new ();
#line 17 "../src/view-models/student-view-model.vala"
	student_set_first_name (_tmp7_, _tmp5_);
#line 17 "../src/view-models/student-view-model.vala"
	_g_free0 (_tmp5_);
#line 17 "../src/view-models/student-view-model.vala"
	student_set_last_name (_tmp7_, _tmp6_);
#line 17 "../src/view-models/student-view-model.vala"
	_g_free0 (_tmp6_);
#line 17 "../src/view-models/student-view-model.vala"
	student_set_age (_tmp7_, (gint8) 22);
#line 17 "../src/view-models/student-view-model.vala"
	_tmp8_ = _tmp7_;
#line 17 "../src/view-models/student-view-model.vala"
	gee_abstract_collection_add ((GeeAbstractCollection*) students, _tmp8_);
#line 17 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (_tmp8_);
#line 18 "../src/view-models/student-view-model.vala"
	_tmp9_ = g_strdup ("Linda");
#line 18 "../src/view-models/student-view-model.vala"
	_tmp10_ = g_strdup ("Hamerski");
#line 18 "../src/view-models/student-view-model.vala"
	_tmp11_ = student_new ();
#line 18 "../src/view-models/student-view-model.vala"
	student_set_first_name (_tmp11_, _tmp9_);
#line 18 "../src/view-models/student-view-model.vala"
	_g_free0 (_tmp9_);
#line 18 "../src/view-models/student-view-model.vala"
	student_set_last_name (_tmp11_, _tmp10_);
#line 18 "../src/view-models/student-view-model.vala"
	_g_free0 (_tmp10_);
#line 18 "../src/view-models/student-view-model.vala"
	student_set_age (_tmp11_, (gint8) 19);
#line 18 "../src/view-models/student-view-model.vala"
	_tmp12_ = _tmp11_;
#line 18 "../src/view-models/student-view-model.vala"
	gee_abstract_collection_add ((GeeAbstractCollection*) students, _tmp12_);
#line 18 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (_tmp12_);
#line 20 "../src/view-models/student-view-model.vala"
	student_view_model_set_students (self, students);
#line 13 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (students);
#line 207 "student-view-model.c"
}

StudentViewModel*
student_view_model_construct (GType object_type)
{
	StudentViewModel * self = NULL;
#line 2 "../src/view-models/student-view-model.vala"
	self = (StudentViewModel*) g_object_new (object_type, NULL);
#line 2 "../src/view-models/student-view-model.vala"
	return self;
#line 218 "student-view-model.c"
}

StudentViewModel*
student_view_model_new (void)
{
#line 2 "../src/view-models/student-view-model.vala"
	return student_view_model_construct (TYPE_STUDENT_VIEW_MODEL);
#line 226 "student-view-model.c"
}

GenericListModel*
student_view_model_get_students (StudentViewModel* self)
{
	GenericListModel* result;
	GenericListModel* _tmp0_;
#line 6 "../src/view-models/student-view-model.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 6 "../src/view-models/student-view-model.vala"
	_tmp0_ = self->priv->_students;
#line 6 "../src/view-models/student-view-model.vala"
	result = _tmp0_;
#line 6 "../src/view-models/student-view-model.vala"
	return result;
#line 242 "student-view-model.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 6 "../src/view-models/student-view-model.vala"
	return self ? g_object_ref (self) : NULL;
#line 250 "student-view-model.c"
}

void
student_view_model_set_students (StudentViewModel* self,
                                 GenericListModel* value)
{
#line 6 "../src/view-models/student-view-model.vala"
	g_return_if_fail (self != NULL);
#line 6 "../src/view-models/student-view-model.vala"
	if (student_view_model_get_students (self) != value) {
#line 261 "student-view-model.c"
		GenericListModel* _tmp0_;
#line 6 "../src/view-models/student-view-model.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 6 "../src/view-models/student-view-model.vala"
		_g_object_unref0 (self->priv->_students);
#line 6 "../src/view-models/student-view-model.vala"
		self->priv->_students = _tmp0_;
#line 6 "../src/view-models/student-view-model.vala"
		g_object_notify_by_pspec ((GObject *) self, student_view_model_properties[STUDENT_VIEW_MODEL_STUDENTS_PROPERTY]);
#line 271 "student-view-model.c"
	}
}

static GObject *
student_view_model_constructor (GType type,
                                guint n_construct_properties,
                                GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
#line 8 "../src/view-models/student-view-model.vala"
	static GObject * StudentViewModel_singleton__ref = NULL;
#line 8 "../src/view-models/student-view-model.vala"
	static GMutex StudentViewModel_singleton__lock;
#line 8 "../src/view-models/student-view-model.vala"
	static volatile gsize StudentViewModel_singleton__volatile = 0;
#line 288 "student-view-model.c"
	StudentViewModel * self;
	StudentViewModel* _tmp0_;
#line 8 "../src/view-models/student-view-model.vala"
	if (g_once_init_enter (&StudentViewModel_singleton__volatile)) {
#line 293 "student-view-model.c"
		g_mutex_init (&StudentViewModel_singleton__lock);
		g_once_init_leave (&StudentViewModel_singleton__volatile, 42);
	}
#line 8 "../src/view-models/student-view-model.vala"
	g_mutex_lock (&StudentViewModel_singleton__lock);
#line 8 "../src/view-models/student-view-model.vala"
	if (StudentViewModel_singleton__ref != NULL) {
#line 301 "student-view-model.c"
		g_object_ref (StudentViewModel_singleton__ref);
		g_mutex_unlock (&StudentViewModel_singleton__lock);
		return StudentViewModel_singleton__ref;
	}
#line 8 "../src/view-models/student-view-model.vala"
	parent_class = G_OBJECT_CLASS (student_view_model_parent_class);
#line 8 "../src/view-models/student-view-model.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 8 "../src/view-models/student-view-model.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_STUDENT_VIEW_MODEL, StudentViewModel);
#line 9 "../src/view-models/student-view-model.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 9 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (self->priv->_instance);
#line 9 "../src/view-models/student-view-model.vala"
	self->priv->_instance = _tmp0_;
#line 10 "../src/view-models/student-view-model.vala"
	student_view_model_load_students (self);
#line 8 "../src/view-models/student-view-model.vala"
	StudentViewModel_singleton__ref = obj;
#line 8 "../src/view-models/student-view-model.vala"
	g_object_add_weak_pointer (StudentViewModel_singleton__ref, (gpointer) (&StudentViewModel_singleton__ref));
#line 8 "../src/view-models/student-view-model.vala"
	g_mutex_unlock (&StudentViewModel_singleton__lock);
#line 8 "../src/view-models/student-view-model.vala"
	return obj;
#line 328 "student-view-model.c"
}

static void
student_view_model_class_init (StudentViewModelClass * klass,
                               gpointer klass_data)
{
#line 2 "../src/view-models/student-view-model.vala"
	student_view_model_parent_class = g_type_class_peek_parent (klass);
#line 2 "../src/view-models/student-view-model.vala"
	g_type_class_adjust_private_offset (klass, &StudentViewModel_private_offset);
#line 2 "../src/view-models/student-view-model.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_student_view_model_get_property;
#line 2 "../src/view-models/student-view-model.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_student_view_model_set_property;
#line 2 "../src/view-models/student-view-model.vala"
	G_OBJECT_CLASS (klass)->constructor = student_view_model_constructor;
#line 2 "../src/view-models/student-view-model.vala"
	G_OBJECT_CLASS (klass)->finalize = student_view_model_finalize;
#line 2 "../src/view-models/student-view-model.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), STUDENT_VIEW_MODEL_STUDENTS_PROPERTY, student_view_model_properties[STUDENT_VIEW_MODEL_STUDENTS_PROPERTY] = g_param_spec_object ("students", "students", "students", TYPE_GENERIC_LIST_MODEL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 349 "student-view-model.c"
}

static void
student_view_model_instance_init (StudentViewModel * self,
                                  gpointer klass)
{
#line 2 "../src/view-models/student-view-model.vala"
	self->priv = student_view_model_get_instance_private (self);
#line 358 "student-view-model.c"
}

static void
student_view_model_finalize (GObject * obj)
{
	StudentViewModel * self;
#line 2 "../src/view-models/student-view-model.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_STUDENT_VIEW_MODEL, StudentViewModel);
#line 4 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (self->priv->_instance);
#line 6 "../src/view-models/student-view-model.vala"
	_g_object_unref0 (self->priv->_students);
#line 2 "../src/view-models/student-view-model.vala"
	G_OBJECT_CLASS (student_view_model_parent_class)->finalize (obj);
#line 373 "student-view-model.c"
}

static GType
student_view_model_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (StudentViewModelClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) student_view_model_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (StudentViewModel), 0, (GInstanceInitFunc) student_view_model_instance_init, NULL };
	GType student_view_model_type_id;
	student_view_model_type_id = g_type_register_static (G_TYPE_OBJECT, "StudentViewModel", &g_define_type_info, 0);
	StudentViewModel_private_offset = g_type_add_instance_private (student_view_model_type_id, sizeof (StudentViewModelPrivate));
	return student_view_model_type_id;
}

GType
student_view_model_get_type (void)
{
	static volatile gsize student_view_model_type_id__volatile = 0;
	if (g_once_init_enter (&student_view_model_type_id__volatile)) {
		GType student_view_model_type_id;
		student_view_model_type_id = student_view_model_get_type_once ();
		g_once_init_leave (&student_view_model_type_id__volatile, student_view_model_type_id);
	}
	return student_view_model_type_id__volatile;
}

static void
_vala_student_view_model_get_property (GObject * object,
                                       guint property_id,
                                       GValue * value,
                                       GParamSpec * pspec)
{
	StudentViewModel * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_STUDENT_VIEW_MODEL, StudentViewModel);
#line 2 "../src/view-models/student-view-model.vala"
	switch (property_id) {
#line 2 "../src/view-models/student-view-model.vala"
		case STUDENT_VIEW_MODEL_STUDENTS_PROPERTY:
#line 2 "../src/view-models/student-view-model.vala"
		g_value_set_object (value, student_view_model_get_students (self));
#line 2 "../src/view-models/student-view-model.vala"
		break;
#line 414 "student-view-model.c"
		default:
#line 2 "../src/view-models/student-view-model.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 2 "../src/view-models/student-view-model.vala"
		break;
#line 420 "student-view-model.c"
	}
}

static void
_vala_student_view_model_set_property (GObject * object,
                                       guint property_id,
                                       const GValue * value,
                                       GParamSpec * pspec)
{
	StudentViewModel * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_STUDENT_VIEW_MODEL, StudentViewModel);
#line 2 "../src/view-models/student-view-model.vala"
	switch (property_id) {
#line 2 "../src/view-models/student-view-model.vala"
		case STUDENT_VIEW_MODEL_STUDENTS_PROPERTY:
#line 2 "../src/view-models/student-view-model.vala"
		student_view_model_set_students (self, g_value_get_object (value));
#line 2 "../src/view-models/student-view-model.vala"
		break;
#line 440 "student-view-model.c"
		default:
#line 2 "../src/view-models/student-view-model.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 2 "../src/view-models/student-view-model.vala"
		break;
#line 446 "student-view-model.c"
	}
}

